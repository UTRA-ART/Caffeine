<launch>
   <arg name="model" default = "caffeine"/>
   
   <!-- Open a world in Gazebo -->
   <include file="$(find gazebo_ros)/launch/empty_world.launch"/>

   <!-- Parse URDF with xacro -->
   <param name="robot_description" command="xacro '$(find description)/urdf/$(arg model).urdf.xacro'"/>

   <!-- Spawn Caffeine in Gazebo -->
   <node name="spawn_caffeine" pkg="gazebo_ros" type="spawn_model"
      args="-param robot_description
            -urdf -model caffeine" />

   <!-- Set up TF Tree -->
   <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher"/>
   <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>
</launch>

